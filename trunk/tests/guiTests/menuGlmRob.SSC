##
##	Tests for menuGlmRob Plots and Results Pages
##

guiSetOption( option.name="AutoAddPages", value.string="Off" )

tests <- list(list(formula = sumY ~ Age10 + Base4 * Trt, family = "poisson",
				data = breslow.dat))
				
methods <- c("MLE + Robust", "Robust", "MLE")

for (test in tests) {
	for(method in methods) {

##
##	Test Results
##

	menuGlmRob(formula = test$formula, fitting.method = method, family = test$family,
		data = test$data, print.long.p = T, print.long.p = F, print.correlation.p = F,
		print.anova.p = F)

	menuGlmRob(formula = test$formula, fitting.method = method, family = test$family,
		data = test$data, print.long.p = T, print.long.p = F, print.correlation.p = F,
		print.anova.p = T)

	menuGlmRob(formula = test$formula, fitting.method = method, family = test$family,
		data = test$data, print.long.p = F, print.long.p = T, print.correlation.p = F,
		print.anova.p = F)

	menuGlmRob(formula = test$formula, fitting.method = method, family = test$family,
		data = test$data, print.long.p = F, print.long.p = T, print.correlation.p = T,
		print.anova.p = F)

	menuGlmRob(formula = test$formula, fitting.method = method, family = test$family,
		data = test$data, print.long.p = F, print.long.p = T, print.correlation.p = F,
		print.anova.p = T)

	menuGlmRob(formula = test$formula, fitting.method = method, family = test$family,
		data = test$data, print.long.p = F, print.long.p = T, print.correlation.p = T,
		print.anova.p = T)

	menuGlmRob(formula = test$formula, fitting.method = method, family = test$family,
		data = test$data, print.long.p = F, print.long.p = F, print.correlation.p = F,
		print.anova.p = T)

##
##	Test plots
##

sms <- c(T, F)
rps <- c(T, F)

	for (sm in sms) {
		for (rp in rps) {
			
			menuGlmRob(formula = test$formula, family = test$family, data = test$data,
				fitting.method = method, print.long.p = F, print.anova.p = F,
				plotResidVsFit.p = T, smooths.p = sm, rugplot.p = rp)
		
			menuGlmRob(formula = test$formula, family = test$family, data = test$data,
				fitting.method = method, print.long.p = F, print.anova.p = F,
				plotSqrtAbsResid.p = T, smooths.p = sm, rugplot.p = rp)
		
			menuGlmRob(formula = test$formula, family = test$family, data = test$data,
				fitting.method = method, print.long.p = F, print.anova.p = F,
				plotResponseVsFit.p = T, smooths.p = sm, rugplot.p = rp)

			menuGlmRob(formula = test$formula, family = test$family, data = test$data,
				fitting.method = method, print.long.p = F, print.anova.p = F,
				compare.glmfits.rrvsrd = T, smooths.p = sm, rugplot.p = rp)
		
			menuGlmRob(formula = test$formula, family = test$family, data = test$data,
				fitting.method = method, print.long.p = F, print.anova.p = F,
				Pearson.qq.p = T, smooths.p = sm, rugplot.p = rp)
		
			menuGlmRob(formula = test$formula, family = test$family, data = test$data,
				fitting.method = method, print.long.p = F, print.anova.p = F,
				deviance.qq.p = T, smooths.p = sm, rugplot.p = rp)
		}
	}

##
##	Test Partial Plots
##

	menuGlmRob(formula = test$formula, family = test$family, data = test$data,
		fitting.method = method, print.long.p = F, print.anova.p = F,
		plotPartialResid.p = T, plotPartialFit.p = F, rugplotPartialResid.p = F,
		scalePartialResid.p = F)

	menuGlmRob(formula = test$formula, family = test$family, data = test$data,
		fitting.method = method, print.long.p = F, print.anova.p = F,
		plotPartialResid.p = T, plotPartialFit.p = T, rugplotPartialResid.p = F,
		scalePartialResid.p = F)

	menuGlmRob(formula = test$formula, family = test$family, data = test$data,
		fitting.method = method, print.long.p = F, print.anova.p = F,
		plotPartialResid.p = T, plotPartialFit.p = F, rugplotPartialResid.p = T,
		scalePartialResid.p = F)

	menuGlmRob(formula = test$formula, family = test$family, data = test$data,
		fitting.method = method, print.long.p = F, print.anova.p = F,
		plotPartialResid.p = T, plotPartialFit.p = F, rugplotPartialResid.p = F,
		scalePartialResid.p = T)

	menuGlmRob(formula = test$formula, family = test$family, data = test$data,
		fitting.method = method, print.long.p = F, print.anova.p = F,
		plotPartialResid.p = T, plotPartialFit.p = T, rugplotPartialResid.p = T,
		scalePartialResid.p = F)

	menuGlmRob(formula = test$formula, family = test$family, data = test$data,
		fitting.method = method, print.long.p = F, print.anova.p = F,
		plotPartialResid.p = T, plotPartialFit.p = T, rugplotPartialResid.p = F,
		scalePartialResid.p = T)

	menuGlmRob(formula = test$formula, family = test$family, data = test$data,
		fitting.method = method, print.long.p = F, print.anova.p = F,
		plotPartialResid.p = T, plotPartialFit.p = F, rugplotPartialResid.p = T,
		scalePartialResid.p = T)

	menuGlmRob(formula = test$formula, family = test$family, data = test$data,
		fitting.method = method, print.long.p = F, print.anova.p = F,
		plotPartialResid.p = T, plotPartialFit.p = T, rugplotPartialResid.p = T,
		scalePartialResid.p = T)
	}
}